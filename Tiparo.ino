/*****************************************************************************/
/*                                                                           */
/* Tiparo.ino                                                                */
/*                                                                           */
/*****************************************************************************/
/*                                                                           */
/* Description:                                                              */
/*                                                                           */
/*                                                                           */
/*****************************************************************************/

#include <Servo.h>

Servo servoX, servoY, servoZ;

int joyStickX = 0;
int joyStickY = 1;

int initialPos = 90;

/*****************************************************************************/
/*                                                                           */
/* setup()                                                                   */
/*                                                                           */
/*****************************************************************************/
void setup()
{
    Serial.begin( 9600 );
  
    servoX.attach( 6 );
    servoY.attach( 7 );

    servoX.write( initialPos );
    servoY.write( initialPos );
}

/*****************************************************************************/
/*                                                                           */
/* loop()                                                                    */
/*                                                                           */
/*****************************************************************************/
void loop()
{
    //testServos();

    int x, y;
    int xPos, yPos;
    
    xPos = analogRead( joyStickX );
    yPos = analogRead( joyStickY );
    x = map( xPos, 0, 1023, 0, 180 );
    y = map( yPos, 0, 1023, 0, 180 );
    Serial.print( x, DEC );
    Serial.print( "," );
    Serial.print( y, DEC );
    Serial.print( "\n" );
    servoX.write( x );
    servoY.write( y );
    delay( 15 );
}

/*****************************************************************************/
/*                                                                           */
/* testServos()                                                              */
/*                                                                           */
/*****************************************************************************/
void testServos()
{
int pos = 0;
    
    /*****************************************************************************/
    /* Servo X                                                                   */
    /*****************************************************************************/
    for( pos = 0; pos < 180; pos +=1 )
    {
        servoX.write( pos );
        delay( 15 );
    }

    for( pos = 180; pos >= 1; pos -= 1 )
    {
        servoX.write( pos );
        delay( 15 );
    }

    /*****************************************************************************/
    /* Servo Y                                                                   */
    /*****************************************************************************/
    for( pos = 0; pos < 180; pos +=1 )
    {
        servoY.write( pos );
        delay( 15 );
    }

    for( pos = 180; pos >= 1; pos -= 1 )
    {
        servoY.write( pos );
        delay( 15 );
    }
}

